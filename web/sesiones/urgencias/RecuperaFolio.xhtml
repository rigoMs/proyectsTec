<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/WEB-INF/facelets/planthrrb.xhtml">
    <ui:define name="cuerpo">
        <div class="centrar">
        <h:form id="datos">
          <div class="msjrequerido"><h:outputLabel value="("/><h:outputLabel class="requerido" value="*"/><h:outputLabel  value=")"/><h:outputLabel value="#{etiq.campo}"/></div><br/>
            <br/>
                 <p:panelGrid styleClass="frm_centrado"> 
                                       
                     <p:row>
                         <p:column styleClass="ui-widget-header"><p:outputLabel value=""/></p:column>  
                         <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.recuperarFolios}"/></p:column> 
                         <p:column styleClass="ui-widget-header"><p:outputLabel value=""/></p:column>   
                     </p:row>
                     
                     <p:row>
                         
                         <p:column>
                             <p:outputLabel value="#{etiq.ingreseFolio}:"/>
                         </p:column>
                         
                         <p:column><h:outputLabel class="requerido" value="*"/>
                             <p:inputMask required="true" requiredMessage="Debe Ingresar un Folio de AdmisiÃ³n" id="folioAdm" mask="999999999" value="#{oRecupera.recuperaFolio.folioAdmision}"/>
                         </p:column>
                         
                         <p:column>
                             <p:commandButton value="#{etiq.consultar}" action="#{oRecupera.recuperaFolio.buscarFolioAdmision()}" validateClient="true" ajax="false" icon="ui-icon-disk"/>
                        </p:column>
                     </p:row>
                     
                 </p:panelGrid>
            <br></br>
        </h:form>
        
            <h:form id="consCama" >
            <p:panelGrid id="cama1" style="#{oRecupera.recuperaFolio.habilitaDatosCama()}">
                <p:row>
                    <p:column styleClass="ui-widget-header" colspan="5"><h:outputLabel value="#{etiq.recuperarFolios}"/></p:column>
                </p:row>
                     <p:row>
                        <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.nombres}:"/></p:column>
                        <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.appat}:"/><br></br></p:column>
                        <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.apmat}:"/></p:column>
                        <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.sexo}:"/></p:column>
                        <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.curp}:"/><br/></p:column>
                     </p:row>
                      <p:row>
                          <p:column>
                              <h:outputLabel  value="#{oRecupera.recuperaFolio.paciente.nombres}"/>
                          </p:column>
                          <p:column>
                              <h:outputLabel  value=" #{oRecupera.recuperaFolio.paciente.apPaterno}"/>
                          </p:column>
                          <p:column>
                              <h:outputLabel value="#{oRecupera.recuperaFolio.paciente.apMaterno}"/>
                          </p:column>
                          
                          <p:column>
                              <p:selectOneRadio id="sexo" value="#{oRecupera.recuperaFolio.paciente.sexoP}" disabled="true" validatorMessage="Debe ingresar el sexo del paciente">
                                <f:selectItem itemLabel="Masculino" itemValue="M" />
                                <f:selectItem itemLabel="Femenino" itemValue="F" />
                                </p:selectOneRadio>
                        </p:column>
                          
                          <p:column>
                              <h:outputLabel value="#{oRecupera.recuperaFolio.paciente.curp}"/>
                          </p:column>
                          
                      </p:row>
                     <p:row>
                        <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.fechanac}:"/></p:column>
                        <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.seguro}:"/></p:column>
                        <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.numero}:"/></p:column>
                        <p:column colspan="2" styleClass="ui-widget-header"><h:outputLabel value="#{etiq.domicilio}:"/></p:column>
                     </p:row>
                     <p:row>
                         <p:column>
                             <h:outputLabel  id="fechaNac" value="#{oRecupera.recuperaFolio.paciente.fechaNacTexto}">
                             </h:outputLabel>
                          </p:column>
                         <p:column>
                             <h:outputLabel value="#{oRecupera.recuperaFolio.paciente.seg.derechohabienteP}"/>
                         </p:column>
                         <p:column>
                             <h:outputLabel  value="#{oRecupera.recuperaFolio.paciente.seg.numero}"/>
                         </p:column>
                         
                  <p:column colspan="2">
                      <h:outputLabel id="dom" value="#{oRecupera.recuperaFolio.paciente.calleNum}" styleClass="bordes" onkeyup="this.value=this.value.toUpperCase();"/>
                  </p:column>
                     </p:row>
                     
             <p:row>
                <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.colonia}:"/><br/></p:column>
                <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.pais}:"/><br/></p:column>
                <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.entidad}:"/><br/></p:column>
                <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.municipio}:"/><br/></p:column>
                <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.localidad}:"/><br/></p:column>
             </p:row>
             
             <p:row>
                 
                 <p:column>
                     <h:outputLabel id="colonia" value="#{oRecupera.recuperaFolio.paciente.colonia}" styleClass="bordes" onkeyup="this.value=this.value.toUpperCase();"/>
                  </p:column>
                 
                 <p:column>
                     <h:outputLabel value="#{oRecupera.recuperaFolio.paciente.otroPais}" styleClass="bordes" onkeyup="this.value=this.value.toUpperCase();">
                     </h:outputLabel>
                 </p:column>
                 
                 <p:column>
                     <p:selectOneMenu id="enti" disabled="true" value="#{oRecupera.recuperaFolio.paciente.estado.claveEdo}" >
                         <p:ajax update="muni" event="valueChange"/>
                         <f:selectItem itemLabel="ENTIDAD" itemValue="" noSelectionOption="true" />
                         <f:selectItems value="#{oRecupera.listaEstados}" var="oEdo" 
                                        itemLabel="#{oEdo.descripcionEdo}" itemValue="#{oEdo.claveEdo}"/>
                        </p:selectOneMenu>
                 </p:column>
                 
                 
                 <p:column>      
                     <p:selectOneMenu id="muni" disabled="true" value="#{oRecupera.recuperaFolio.paciente.municipio.claveMun}">
                         <p:ajax update="loc" event="valueChange"/>
                         <f:selectItem itemLabel="MUNICIPIO" itemValue="" noSelectionOption="true" />
                         <f:selectItems value="#{oRecupera.listaMunicipios}" var="oMun" 
                                        itemLabel="#{oMun.descripcionMun}" itemValue="#{oMun.claveMun}"/>
                        </p:selectOneMenu>
                  </p:column>
                 
                 <p:column>
                     <p:selectOneMenu id="loc" disabled="true" value="#{oRecupera.recuperaFolio.paciente.ciudad.claveCiu}">
                         <p:ajax update="codp" event="valueChange"/>
                         <f:selectItem itemLabel="LOCALIDAD" itemValue="" noSelectionOption="true" />
                         <f:selectItems value="#{oRecupera.listaCiudades}" var="oCiu"
                                        itemLabel="#{oCiu.descripcionCiu}" itemValue="#{oCiu.claveCiu}"/>
                        </p:selectOneMenu>
                 </p:column>
                 
               </p:row>
             
             <p:row>
                <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.cp}:"/><br/></p:column>
                <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.areaUrgs}:"/><br/></p:column>
                <p:column styleClass="ui-widget-header" colspan="2"><h:outputLabel value="#{etiq.medicoRecibe}:"/><br/></p:column> 
                <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.servicioHosp}:"/><br/></p:column> 
             </p:row>
                 
             <p:row>
                 
                 <p:column>      
                     <p:selectOneMenu id="codp" disabled="true" value="#{oRecupera.recuperaFolio.paciente.ciudadCP.cp}">
                         <f:selectItem itemLabel="COD. POSTAL" itemValue="" noSelectionOption="true" />
                         <f:selectItems value="#{oRecupera.listaCP}" var="oCP" 
                                        itemLabel="#{oCP.cp}" itemValue="#{oCP.cp}"/>
                        </p:selectOneMenu>
                  </p:column>
                 
                 <p:column>
                     <h:outputLabel  id="serUrg" value="#{oRecupera.recuperaFolio.areaServicioSTR}"/>
                  </p:column>
                 
                 <p:column colspan="2">
                     <h:outputLabel  id="medUrg" value="#{oRecupera.recuperaFolio.medicoRecibe.nombres}"/>
                 </p:column>
                 <p:column>
                     <h:outputLabel  id="ser" value="#{oRecupera.recuperaFolio.areaServicioHRRB}"/>
                  </p:column>
            </p:row> 
                     
             <p:row>
                 <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.subservicio}:"/><br/></p:column> 
                 <p:column styleClass="ui-widget-header" colspan="2"><h:outputLabel value="#{etiq.medicoTratante}:"/><br/></p:column>
                 <p:column styleClass="ui-widget-header"><h:outputLabel value="#{etiq.camaUtilizo}:"/><br/></p:column>
                 <p:column styleClass="ui-widget-header"><p:outputLabel value="#{etiq.seleccioneCama}:"/></p:column>
             </p:row> 
                     
             <p:row>
                 
                 <p:column>
                     <h:outputLabel  id="subser" value="#{oRecupera.recuperaFolio.subServicioHRRBSTR}"/>
                  </p:column>
                 
                 <p:column colspan="2">
                     <h:outputLabel  id="medTra" value="#{oRecupera.recuperaFolio.medicoTratante.nombres}"/>
                 </p:column>
                 
                 <p:column>
                     <h:outputLabel  id="medUrgn" value="#{oRecupera.recuperaFolio.cama.numero}"/>
                 </p:column>
                 <p:column>
                     <p:selectOneMenu id="CamasD" value="#{oRecupera.recuperaFolio.cama.numeroDesocupada}" required="#{oRecupera.requerida()}" disabled="#{oRecupera.activaCama()}">
                         <f:selectItem itemLabel="CAMAS DISPONIBLES" itemValue="" noSelectionOption="true" />
                         <f:selectItems value="#{oCamas.cambioCama.cama.listaCamas}" var="cam"
                                        itemLabel="#{cam.numero} / #{cam.areaServicioHRRB}" itemValue="#{cam.numero}"/>
                     </p:selectOneMenu>
                  </p:column>
                  
             </p:row>
                <p:row>
                    <p:column styleClass="ui-widget-header" colspan="5">
                        <p:commandButton value="#{etiq.recuperarFolio}" action="#{oRecupera.recuperaFolio.recuperaFolio()}" validateClient="true" ajax="false" icon="ui-icon-disk"/>
                    </p:column>
                </p:row>
            </p:panelGrid>
                
            <br/>
                </h:form>
            
          <p:ajaxStatus style="width:64px;height:64px;position:fixed;right:5px;bottom:5px">  
            <f:facet name="start">  
                <p:graphicImage value="/imgs/loading.gif" />  
            </f:facet>    
        </p:ajaxStatus>
   </div> 
    
  </ui:define>
</ui:composition>
    


</html>
